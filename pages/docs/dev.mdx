import { Callout } from "nextra/components";
import { Steps } from "nextra/components";
import { Tabs } from "nextra/components";
import { Img } from "@/components/img";
import registerPostgres from "@/assets/dev/register_postgres.png";

# Developer Mode

This guide will help you to install the project on your local machine.

<Callout type="error" emoji="‚ùå">
  This tutorial is for development purposes only. Do not use these credentials
  in production.
</Callout>

## üìù Prerequisites

Before you begin, please read the [Contribution](/contribution) page and prepere your environment.

## üöÄ Installation

<Steps>
### Get files

```bash
git clone https://github.com/aXenDeveloper/vitnode.git && cd vitnode
```

### Install dependencies

```bash
pnpm i
```

### Prepere docker containers

```bash
pnpm docker:dev
```

### Environment variables for Backend

Go to `backend` folder and create new `.env` file:

```bash
LOGIN_TOKEN_SECRET=secret
```

Variables for `Database` are already set in `docker-compose-dev.yml` file with inside `backend` config as default values.

### Generate config

Go to root folder and run:

```bash
pnpm config:init
```

### Run backend

```bash
pnpm backend:dev
```

### Run frontend

```bash
pnpm frontend:dev
```

<Callout type="info" emoji="‚ÑπÔ∏è">
  Frontend should be running on port `3000`. If you want to change it go to
  `.env` file and fill `NEXT_PUBLIC_FRONTEND_URL` variable _(For example
  `NEXT_PUBLIC_FRONTEND_URL=http://localhost`)_.
</Callout>

</Steps>

## üßë‚Äçüíª PGAdmin

You can use PGAdmin to manage your database. VitNode has this image in Docker Compose. To use it, you need to go to http://localhost:5050 and login with credentials:

- Email: `admin@admin.com`
- Password: `admin`

### Add server

Click on `Add New Server` button and fill the values:

- Name: `vitnode`
- Host name/address: `postgres`
- Database: `vitnode`
- Port: `5432`
- Username: `root`
- Password: `root`

<Img src={registerPostgres} alt="Register Postgres in PGAdmin" />

## Canary branch (experimental)

If you are in the `canary` branch, it's similar to run the project.

Backend

```bash
pnpm db
pnpm backend:dev
```
